misconfiguration to an ACL can leak permissions to other objects that do not need it 

what are ACLs
lists that define 
1. who has access to which asset/recourse 
2. level of access they are provisioned

two types of ACLs:
1. Discretionary ACL
	1. defines which security principals are granted or denied access to an object.
	2. When someone attempts to access an object, the system will check the DACL for the level of access that is permitted
2. System ACL
		allow administrators to log access attempts made to secured objects.

You can view them in GUI - Active Directory Users and Computers -> Auditing tab

## ACL Attacks in the Wild

We can use ACL attacks for:

- Lateral movement
- Privilege escalation
- Persistence

Some common attack scenarios may include:

|Attack|Description|
|---|---|
|`Abusing forgot password permissions`|Help Desk and other IT users are often granted permissions to perform password resets and other privileged tasks. If we can take over an account with these privileges (or an account in a group that confers these privileges on its users), we may be able to perform a password reset for a more privileged account in the domain.|
|`Abusing group membership management`|It's also common to see Help Desk and other staff that have the right to add/remove users from a given group. It is always worth enumerating this further, as sometimes we may be able to add an account that we control into a privileged built-in AD group or a group that grants us some sort of interesting privilege.|
|`Excessive user rights`|We also commonly see user, computer, and group objects with excessive rights that a client is likely unaware of. This could occur after some sort of software install (Exchange, for example, adds many ACL changes into the environment at install time) or some kind of legacy or accidental configuration that gives a user unintended rights. Sometimes we may take over an account that was given certain rights out of convenience or to solve a nagging problem more quickly.|


These can be enumerated (and visualized) using a tool such as BloodHound, and are all abusable with PowerView, among other tools:

- `ForceChangePassword` abused with `Set-DomainUserPassword`
- `Add Members` abused with `Add-DomainGroupMember`
- `GenericAll` abused with `Set-DomainUserPassword` or `Add-DomainGroupMember`
- `GenericWrite` abused with `Set-DomainObject`
- `WriteOwner` abused with `Set-DomainObjectOwner`
- `WriteDACL` abused with `Add-DomainObjectACL`
- `AllExtendedRights` abused with `Set-DomainUserPassword` or `Add-DomainGroupMember`
- `Addself` abused with `Add-DomainGroupMember`

*GenericAll* -> can be used to perform targeted Kerberoasting attack
