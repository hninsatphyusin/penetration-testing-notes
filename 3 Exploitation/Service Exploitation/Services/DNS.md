
dns axfr zone transfer [[3 - Hacking/3.4 Services/DNS|DNS]]

can be done using fierce also
```
fierce --domain inlanefreight.htbi
```

finding subdomains
```
./subfinder -d inlanefreight.com -v     
```

Use this to keep adding in more subdomains into the search
```
echo "ns1.inlanefreight.com" > ./resolvers.txt


./subbrute inlanefreight.com -s ./names.txt -r ./resolvers.txt
```
add all the subdomains into the resolvers.txt

make sure the ns.inlanefreight.com is already defined in the /etc/hosts with its ip addr



# Subdomain takeovering
```
host support.inlanefreight.com
```
to see what it points to 

then if you go to the site -> see again -> if it says the specificed bucket does not exist -> we can take over the bucket by 

[can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz) repository

## DNS Spoofing
Cache Poising 
altering legitimate DNS records with false information so that they can be used to redirect online traffic to a fradulent website 

MITM tools like [Ettercap](https://www.ettercap-project.org/) or [Bettercap](https://www.bettercap.org/).

`Ettercap`
 1. edit the `/etc/ettercap/etter.dns` file to map the target domain name (e.g., `inlanefreight.com`) that they want to spoof and the attacker's IP address (e.g., `192.168.225.110`) that they want to redirect a user to
 2. Next, start the `Ettercap` tool and scan for live hosts within the network by navigating to `Hosts > Scan for Hosts`. Once completed, add the target IP address (e.g., `192.168.152.129`) to Target1 and add a default gateway IP (e.g., `192.168.152.2`) to Target2.
 3. Activate `dns_spoof` attack by navigating to `Plugins > Manage Plugins`